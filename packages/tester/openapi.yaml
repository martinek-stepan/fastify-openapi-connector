openapi: 3.1.0
info:
  title: tester
  description: API for testing fastify-openapi-connector
  contact:
    name: Stepan Martinek
    email: stepan.martinek@lego.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  version: 0.0.3
servers:
  - url: http://localhost:3333
    description: Testing endpoint
security:
  - test-sec:
      - scope:yay-nay
components:
  securitySchemes:
    test-sec:
      type: http
      scheme: bearer
      bearerFormat: JWT
  parameters:
    offsetParam:
      in: query
      name: offset
      required: false
      schema:
        type: integer
        minimum: 0
      description: The number of items to skip before starting to collect the result set.
    limitParam:
      in: query
      name: limit
      required: false
      schema:
        type: integer
        minimum: 1
        maximum: 50
        default: 20
      description: The numbers of items to return.
  schemas:
    Error:
      type: object
      properties:
        code:
          type: integer
          example: 400
        message:
          type: string
          example: Bad Request
      required:
        - code
        - message
  responses:
    BadRequest:
      description: Bad Request
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Error"
    NotFound:
      description: Not Found
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Error"
    InternalServerError:
      description: Internal Server Error
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Error"
paths:
  /health:
    get:
      operationId: healthGet
      summary: Health check endpoint with no parameters.
      description: Used to test OperationHandlers type issue with mixed param/no-param
        operations.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: healthy
        "500":
          $ref: "#/components/responses/InternalServerError"
  /users/{userId}:
    get:
      operationId: userGet
      x-codegen-path: users
      summary: Gets a single user by ID.
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      tags:
        - users
  /users:
    x-codegen-path: teams
    get:
      operationId: usersGet
      x-codegen-path: users
      summary: Gets a list of users.
      parameters:
        - $ref: "#/components/parameters/offsetParam"
        - $ref: "#/components/parameters/limitParam"
      responses:
        "200":
          description: OK
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"
      tags:
        - users
  /teams:
    x-codegen-path: teams
    get:
      operationId: teamsGet
      summary: Gets a list of teams.
      parameters:
        - $ref: "#/components/parameters/offsetParam"
        - $ref: "#/components/parameters/limitParam"
      responses:
        "200":
          description: OK
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                x-test: test
                properties:
                  code:
                    type: integer
                    example: 500
                  message:
                    type: string
                    example: Internal Server Error
                required:
                  - code
                  - message
      tags:
        - teams
tags:
  - name: users
    description: User operations
  - name: teams
    description: ""